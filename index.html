<!DOCTYPE html>
<html>
<head>
    <title>PSO2 Utility 0.1.3-beta</title>
    <meta charset="utf-8" />
    <script>
        const React = require("react");
        const ReactDOM = require("react-dom");
        const path = require("path");
        const electron = require("electron");
        require('electron-react-devtools').install()
    </script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
    <script type="text/babel" src="pso2tools.js"></script>
    <script type="text/babel" src="pso2tools_module.js"></script>
    <script type="text/babel" src="modules/TaCounter.babel.js"></script>
    <script type="text/babel" src="modules/Memo.babel.js"></script>
    <script type="text/babel" src="modules/ClassLevel.babel.js"></script>
    <script type="text/babel" src="modules/DeleteCharacter.babel.js"></script>
    <link id="styleLink" rel="stylesheet" href="mainStyle.dark.css" />
</head>
<body>
    <div class="windowTitle">
        <span class="title">PSO2 Utility 0.1.3-beta</span>
        <span class="button">
            <button onclick="if(document.getElementById('styleLink').href.match(/\.dark\./) != null){document.getElementById('styleLink').href = 'mainStyle.css'}else{document.getElementById('styleLink').href = 'mainStyle.dark.css'}">
                <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg">
                    <use href="images/light.svg#light" />
                </svg>
            </button>
            <button onclick="electron.remote.BrowserWindow.getFocusedWindow().minimize()">
                <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg">
                    <use href="images/minimize.svg#minimize" />
                </svg>
            </button>
            <button onclick="if(electron.remote.BrowserWindow.getFocusedWindow().isMaximized()){electron.remote.BrowserWindow.getFocusedWindow().unmaximize()}else{electron.remote.BrowserWindow.getFocusedWindow().maximize()}">
                    <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg">
                        <use href="images/maximize.svg#maximize" />
                    </svg>
            </button>
            <button onclick="window.close()" class="close">
                    <svg width="18" height="18" xmlns="http://www.w3.org/2000/svg">
                        <use href="images/close.svg#close" />
                    </svg>
            </button>
        </span>
    </div>
    <div class="windowContent">
        <div id="loading">Loading...</div>
        <div class="tab" id="tabButtons"></div>
        <div class="tabContainers" id="tabContainers"></div>
        <script type="text/babel">
            var app = new pso2tools(path.join(process.cwd(),"pso2db.db"));
            app.loadModule(TaCounter);
            app.loadModule(Memo);
            app.loadModule(ClassLevel);
            app.loadModule(DeleteCharacter);
            app.render();
            document.getElementById("loading").remove();
            setInterval(()=>{
                app.render();
            }, 10000);
        </script>
    </div>
</body>
</html>